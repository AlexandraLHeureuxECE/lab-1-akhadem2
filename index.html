<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tic-Tac-Toe</title>
  <style>
    body {
      font-family: system-ui, Arial, sans-serif;
      display: grid;
      place-items: center;
      min-height: 100vh;
      margin: 0;
      background: #f6f7fb;
    }

    .app {
      width: min(360px, 92vw);
      background: white;
      border-radius: 12px;
      padding: 16px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.06);
      text-align: center;
    }

    h1 {
      margin: 0 0 6px;
      font-size: 20px;
    }

    /* ✅ Centered dynamic status message */
    #status {
      margin: 8px 0 14px;
      font-size: 15px;
      font-weight: 500;
      min-height: 1.2em;
    }

    .board {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 8px;
      margin-bottom: 14px;
    }

    .cell {
      aspect-ratio: 1 / 1;
      font-size: 42px;
      font-weight: 700;
      border: 2px solid #d8dbe8;
      border-radius: 12px;
      background: #fff;
      cursor: pointer;
      display: grid;
      place-items: center;
      user-select: none;
      transition: background 0.15s ease, transform 0.08s ease, box-shadow 0.15s ease;
    }

    /* Subtle hover feedback */
    .cell:hover:enabled {
      background: #fafbff;
      transform: scale(1.02);
      box-shadow: 0 4px 10px rgba(0,0,0,0.06);
    }

    .cell:disabled {
      cursor: not-allowed;
      opacity: 0.95;
    }

    /* Winning highlight */
    .cell.win {
      border-color: #22c55e;
      background: #f0fff4;
      box-shadow: 0 0 0 3px rgba(34,197,94,0.25);
    }

    button {
      padding: 10px 14px;
      border: 1px solid #d8dbe8;
      border-radius: 10px;
      background: #fff;
      cursor: pointer;
      font-size: 14px;
    }

    button:hover {
      background: #f7f8ff;
    }
  </style>
</head>
<body>
  <div class="app">
    <h1>Tic-Tac-Toe</h1>

    <!-- ✅ Dynamic status message -->
    <div id="status">Player X’s turn</div>

    <div class="board" id="board">
      <button class="cell" data-index="0"></button>
      <button class="cell" data-index="1"></button>
      <button class="cell" data-index="2"></button>
      <button class="cell" data-index="3"></button>
      <button class="cell" data-index="4"></button>
      <button class="cell" data-index="5"></button>
      <button class="cell" data-index="6"></button>
      <button class="cell" data-index="7"></button>
      <button class="cell" data-index="8"></button>
    </div>

    <button id="restartBtn">Restart</button>
  </div>

  <script>
    const cells = Array.from(document.querySelectorAll(".cell"));
    const statusEl = document.getElementById("status");
    const restartBtn = document.getElementById("restartBtn");

    let board = Array(9).fill(null);
    let currentPlayer = "X";
    let gameOver = false;

    const winLines = [
      [0,1,2], [3,4,5], [6,7,8],
      [0,3,6], [1,4,7], [2,5,8],
      [0,4,8], [2,4,6]
    ];

    function setStatus(text) {
      statusEl.textContent = text;
    }

    function checkWinner() {
      for (const line of winLines) {
        const [a, b, c] = line;
        if (board[a] && board[a] === board[b] && board[a] === board[c]) {
          return line;
        }
      }
      return null;
    }

    function isDraw() {
      return board.every(cell => cell !== null);
    }

    function endGame(message, winningLine = null) {
      gameOver = true;
      setStatus(message);
      cells.forEach(cell => cell.disabled = true);

      if (winningLine) {
        winningLine.forEach(i => cells[i].classList.add("win"));
      }
    }

    function handleCellClick(e) {
      if (gameOver) return;

      const cell = e.currentTarget;
      const index = Number(cell.dataset.index);

      if (board[index]) return;

      board[index] = currentPlayer;
      cell.textContent = currentPlayer;
      cell.disabled = true;

      const winningLine = checkWinner();
      if (winningLine) {
        endGame(`Player ${currentPlayer} wins!`, winningLine);
        return;
      }

      if (isDraw()) {
        endGame("It’s a draw!");
        return;
      }

      currentPlayer = currentPlayer === "X" ? "O" : "X";
      setStatus(`Player ${currentPlayer}’s turn`);
    }

    function restartGame() {
      board = Array(9).fill(null);
      currentPlayer = "X";
      gameOver = false;

      cells.forEach(cell => {
        cell.textContent = "";
        cell.disabled = false;
        cell.classList.remove("win");
      });

      setStatus("Player X’s turn");
    }

    cells.forEach(cell => cell.addEventListener("click", handleCellClick));
    restartBtn.addEventListener("click", restartGame);
  </script>
</body>
</html>
